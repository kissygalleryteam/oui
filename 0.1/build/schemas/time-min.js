/*! oui - v0.1 - 2013-09-05 2:10:21 PM
* Copyright (c) 2013 goto100; Licensed  */
KISSY.add("gallery/oui/0.1/schemas/time",function(a,b){function c(a){return function(b){var c,e,f,g,h,i,j=d(function(){h=g=!1},a);return function(){c=this,e=arguments;var d=function(){f=null,h&&(i=b.apply(c,e)),j()};return f||(f=setTimeout(d,a)),g?h=!0:(g=!0,i=b.apply(c,e)),j(),i}}}function d(a,b){return function(c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,b||(e=c.apply(f,g))},i=b&&!d;return clearTimeout(d),d=setTimeout(h,a),i&&(e=c.apply(f,g)),e}}}function e(b){return function(c){var d=function(){d.timer=setInterval(a.bind(c,this),d.time)};return d.time=b,d.stop=function(){clearInterval(d.timer)},d}}function f(a,b){return b||(a=0,b=a),function(c){var d=function(){if(!d.timer){var a=this,b=arguments,e=Math.floor(Math.random()*(d.time[1]-d.time[0])+d.time[0]);d.timer=setTimeout(function(){c.apply(a,b),d.stop(),d.apply(a,b)},e)}};return d.time=[a,b],d.stop=function(){clearTimeout(d.timer),d.timer=null},d}}var g=b.Class,h=new g({__signal:!1,__actived:!1,__activeTimer:null,__deactiveTimer:null,wait:0,active:function(a){var b=this;clearTimeout(b.__deactiveTimer),b.__deactiveTimer=null,b.__actived?a():(b.__signal=!0,b.__activeTimer=setTimeout(function(){b.__signal&&(a(),b.__actived=!0),b.__activeTimer=null},b.activeWait))},deactive:function(a){var b=this;clearTimeout(b.__activeTimer),b.__activeTimer=null,b.__signal=!1,b.__deactiveTimer=setTimeout(function(){b.__signal||(a(),b.__actived=!1),b.__deactiveTimer=null},b.deactiveWait)},activate:function(a){var b=this;return b.activeWait=a,function(a){return function(){var c=this,d=arguments;b.active(function(){a.apply(c,d)})}}},deactivate:function(a){var b=this;return b.deactiveWait=a,function(a){return function(){var c=this,d=arguments;b.deactive(function(){a.apply(c,d)})}}},hold:function(){var a=this;return function(){a.__signal||(a.__signal=!0)}}});return{throttle:c,debounce:d,interval:e,randomInterval:f,DelayActivator:h}},{requires:["gallery/oop/0.1/index"]});